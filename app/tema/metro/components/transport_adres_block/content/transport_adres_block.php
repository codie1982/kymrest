<?php component::start(); ?><?php $location_data = component::get_props("location_data"); ?><?php $display = component::get_props("display"); ?><?php $display = component::get_props("display") ? 'style="display: block"' : 'style = "display: none"'; ?><div data-section="adres" <?= $display ?>  >    <div class="form-group">        <div class="row margin-bottom-10">            <div class="col-sm-3">                <button type="none" class="btn btn-circle red btn-outline" data-adres="add">Adres Ekle</button>            </div>        </div>        <div class="transport_adres_block_content">            <?php            $template = [];            $row = [];            $col = [];            if (!empty($location_data)) {                foreach ($location_data as $data) {                    $row = [];                    $col = [];                    $prk = $data->primary_key;                    $nadres = new table_adres();                    $dslist = $nadres->getdistrictlist($data->province);                    $jdslist = json_encode($dslist);                    $nblist = $nadres->getneighborhoodlist($data->province, $data->district);                    $nbsmlist = $nadres->getneighborhoodSmtlist($data->province, $data->district);                    $jnblist = json_encode($nblist);                    $jnbsmlist = json_encode($nbsmlist);                    $col[] = [                        "content" => [                            "type" => "primary_key",                            "control_class" => "settings_transport_location_fields",                            "primary_id" => $data->$prk,                        ]                    ];  //primary_key                    $col[] = [                        "content" => [                            "type" => "secret_number",                            "control_class" => "settings_transport_location_fields",                        ]                    ];  //secret_key                    $col[] = [                        "col" => ["2"],                        "content" => [                            "type" => "province",                            "control_class" => "settings_transport_location_fields",                            "action" => "province",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "selected_value" => $data->province,                            "attributes" => [                                "class" => "form-control",                                "data-component_name" => "transport_adres_block",                                "data-type" => "province",                            ]                        ]                    ]; // İl                    $col[] = [                        "col" => ["2"],                        "content" => [                            "type" => "district",                            "control_class" => "settings_transport_location_fields",                            "action" => "district",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "selected_value" => $data->district,                            "district_list" => base64_encode($jdslist),                            "attributes" => [                                "class" => "form-control",                                "data-component_name" => "transport_adres_block",                                "data-type" => "district",                            ]                        ]                    ]; // İlçe                    $col[] = [                        "col" => ["2"],                        "content" => [                            "type" => "neighborhood",                            "control_class" => "settings_transport_location_fields",                            "action" => "neighborhood",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "selected_value" => $data->neighborhood,                            "neighborhood_list" => base64_encode($jnblist),                            "neighborhood_semtlist" => base64_encode($jnbsmlist),                            "attributes" => [                                "class" => "form-control",                                "data-component_name" => "transport_adres_block",                                "data-type" => "neighborhood",                            ]                        ]                    ]; // Mahalle                    $col[] = [                        "col" => ["2"],                        "content" => [                            "type" => "select",                            "control_class" => "settings_transport_location_fields",                            "action" => "direction",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "datatype" => "direction",                            "options" => [                                [                                    "text" => "Arttırım",                                    "attributes" => [                                        "value" => "increase",                                        "!" => $data->direction == "increase" ? "selected" : "",                                    ]                                ],                                [                                    "text" => "Azaltım",                                    "attributes" => [                                        "value" => "decrease",                                        "!" => $data->direction == "decrease" ? "selected" : "",                                    ]                                ]                            ],                            "selected_value" => $data->neighborhood,                            "attributes" => [                                "class" => "form-control",                            ]                        ]                    ]; // Arttırım                    $col[] = [                        "col" => ["1"],                        "content" => [                            "type" => "select",                            "control_class" => "settings_transport_location_fields",                            "action" => "addmethod",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "datatype" => "addmethod",                            "options" => [                                [                                    "text" => "Oran Olarak",                                    "attributes" => [                                        "value" => "rate",                                        "!" => $data->addmethod == "rate" ? "selected" : "",                                    ]                                ],                                [                                    "text" => "Miktar Olarak",                                    "attributes" => [                                        "value" => "value",                                        "!" => $data->addmethod == "value" ? "selected" : "",                                    ]                                ]                            ],                            "attributes" => [                                "class" => "form-control",                            ]                        ]                    ]; // Ekleme Şekli                    $col[] = [                        "col" => ["1"],                        "content" => [                            "type" => "input",                            "control_class" => "settings_transport_location_fields",                            "action" => "value",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "attributes" => [                                "class" => "form-control",                                "type" => "text",                                "value" => $data->value,                                "placeholder" => "Değer Giriniz",                                "data-type" => "addmethod",                            ]                        ]                    ]; // Eklenecek değer                    $col[] = [                        "col" => ["1"],                        "content" => [                            "type" => "select",                            "control_class" => "settings_transport_location_fields",                            "action" => "price_unit",                            "contidion" => "transport_location_price",                            "contidion_value" => "1",                            "datatype" => "price_unit",                            "options" => [                                [                                    "text" => "TL",                                    "attributes" => [                                        "value" => "tl",                                        "!" => $data->price_unit == "tl" ? "selected" : "",                                    ]                                ],                                [                                    "text" => "Dolar",                                    "attributes" => [                                        "value" => "dl",                                        "!" => $data->price_unit == "dl" ? "selected" : "",                                    ]                                ],                                [                                    "text" => "Euro",                                    "attributes" => [                                        "value" => "eu",                                        "!" => $data->price_unit == "eu" ? "selected" : "",                                    ]                                ]                            ],                            "attributes" => [                                "class" => "form-control",                            ]                        ]                    ]; // Fiyat Birimi                    $col[] = [                        "col" => ["1"],                        "content" => [                            "key"=>$data->settings_transport_location_id,                            "type" => "removeButton",                        ]                    ];  // Kaldır Butonu                    $row[] = $col;                    $template[] = $row;                }                echo '<input type="hidden" data-transport_adres_block data-json="' . base64_encode(json_encode($template)) . '"/>';            }            $template = [];            $row = [];            $col = [];            $col[] = [                "content" => [                    "type" => "secret_number",                    "control_class" => "settings_transport_location_fields",                ]            ];  //secret_key            $col[] = [                "col" => ["2"],                "content" => [                    "type" => "province",                    "control_class" => "settings_transport_location_fields",                    "action" => "province",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "selected_value" => $data->province,                    "attributes" => [                        "class" => "form-control",                        "data-component_name" => "transport_adres_block",                        "data-type" => "province",                    ]                ]            ]; // İl            $col[] = [                "col" => ["2"],                "content" => [                    "type" => "district",                    "control_class" => "settings_transport_location_fields",                    "action" => "district",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "selected_value" => $data->district,                    "district_list" => base64_encode($jdslist),                    "attributes" => [                        "class" => "form-control",                        "data-component_name" => "transport_adres_block",                        "data-type" => "district",                    ]                ]            ]; // İlçe            $col[] = [                "col" => ["2"],                "content" => [                    "type" => "neighborhood",                    "control_class" => "settings_transport_location_fields",                    "action" => "neighborhood",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "selected_value" => $data->neighborhood,                    "neighborhood_list" => base64_encode($jnblist),                    "neighborhood_semtlist" => base64_encode($jnbsmlist),                    "attributes" => [                        "class" => "form-control",                        "data-component_name" => "transport_adres_block",                        "data-type" => "neighborhood",                    ]                ]            ]; // Mahalle            $col[] = [                "col" => ["2"],                "content" => [                    "type" => "select",                    "control_class" => "settings_transport_location_fields",                    "action" => "direction",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "datatype" => "direction",                    "options" => [                        [                            "text" => "Arttırım",                            "attributes" => [                                "value" => "increase",                                "!" => $data->direction == "increase" ? "selected" : "",                            ]                        ],                        [                            "text" => "Azaltım",                            "attributes" => [                                "value" => "decrease",                                "!" => $data->direction == "decrease" ? "selected" : "",                            ]                        ]                    ],                    "selected_value" => $data->neighborhood,                    "attributes" => [                        "class" => "form-control",                    ]                ]            ]; // Arttırım            $col[] = [                "col" => ["1"],                "content" => [                    "type" => "select",                    "control_class" => "settings_transport_location_fields",                    "action" => "addmethod",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "datatype" => "addmethod",                    "options" => [                        [                            "text" => "Oran Olarak",                            "attributes" => [                                "value" => "rate",                                "!" => $data->addmethod == "rate" ? "selected" : "",                            ]                        ],                        [                            "text" => "Miktar Olarak",                            "attributes" => [                                "value" => "value",                                "!" => $data->addmethod == "value" ? "selected" : "",                            ]                        ]                    ],                    "attributes" => [                        "class" => "form-control",                    ]                ]            ]; // Ekleme Şekli            $col[] = [                "col" => ["1"],                "content" => [                    "type" => "input",                    "control_class" => "settings_transport_location_fields",                    "action" => "value",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "attributes" => [                        "class" => "form-control",                        "type" => "text",                        "value" => $data->value,                        "placeholder" => "Değer Giriniz",                        "data-type" => "addmethod",                    ]                ]            ]; // Eklenecek değer            $col[] = [                "col" => ["1"],                "content" => [                    "type" => "select",                    "control_class" => "settings_transport_location_fields",                    "action" => "price_unit",                    "contidion" => "transport_location_price",                    "contidion_value" => "1",                    "datatype" => "price_unit",                    "options" => [                        [                            "text" => "TL",                            "attributes" => [                                "value" => "tl",                                "!" => $data->price_unit == "tl" ? "selected" : "",                            ]                        ],                        [                            "text" => "Dolar",                            "attributes" => [                                "value" => "dl",                                "!" => $data->price_unit == "dl" ? "selected" : "",                            ]                        ],                        [                            "text" => "Euro",                            "attributes" => [                                "value" => "eu",                                "!" => $data->price_unit == "eu" ? "selected" : "",                            ]                        ]                    ],                    "attributes" => [                        "class" => "form-control",                    ]                ]            ]; // Fiyat Birimi            $col[] = [                "col" => ["1"],                "content" => [                    "type" => "removeButton",                ]            ];  // Kaldır Butonu            $row[] = $col;            $template[] = $row;            echo '<input type="hidden" reset-transport_adres_block data-json="' . base64_encode(json_encode($template)) . '"/>';            ?>        </div>    </div></div><?php component::end(); ?>