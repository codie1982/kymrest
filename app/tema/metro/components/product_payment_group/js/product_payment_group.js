var product_payment_group = function () {    var _payment_selection = function () {        $(".product_payment_select").on("change", function () {            var selected_value = $(this).children("option:selected").val();            if (selected_value != "---") {                let add_section = true;                $(".parent_payment_method").find('[data-section_name]').each(function () {                    if ($(this).data("section_name") == selected_value)                        add_section = false                })                if (add_section) {                    var secret_number = Math.round(Math.random() * 1000);                    var content = "",                            label = "",                            name_secret = "",                            name_product_payment_method = "",                            name_product_extra_price = "",                            name_product_extra_price_unit = "",                            helper_text = "";                    name_secret = '@product_payment_method_fields$secret_number:' + secret_number;                    name_product_payment_method = '@product_payment_method_fields$payment_method:' + secret_number;                    name_product_extra_price = '@product_payment_method_fields$payment_method_extra_price:' + secret_number;                    name_product_extra_price_unit = '@product_payment_method_fields$extra_price_unit:' + secret_number;                    if (selected_value == "credicart") {                        label = "Kredi Kartı Ödemesi";                        helper_text = "Kredi Kartı ödeme siparişlerinizde ekleyebileceğiniz extra bedelli belirtebilirsiniz.";                    } else if (selected_value == "atthedoor") {                        label = "Kapıda Ödeme";                        helper_text = "Kapıda Ödeme siparişlerinizde ekleyebieceğiniz extra bedelleri belirtebilirsiniz.";                    } else if (selected_value == "inplace") {                        label = "Yerinde Ödeme";                        helper_text = "Yerinde Ödeme siparişlerinizde ekleyebieceğiniz extra bedelleri belirtebilirsiniz.";                    } else if (selected_value == "bank") {                        label = "Banka Havalesi";                        helper_text = "Banka Havalesi siparişlerinizde ekleyebieceğiniz extra bedelleri belirtebilirsiniz.";                    }                    content = '\                <div class="row payment_method_section" data-section_name="' + selected_value + '">\n\                    <span class="help-block">' + helper_text + '</span>\n\                    <label class="col-md-3 control-label"><strong>' + label + '</strong></label>\n\                    <input type="hidden" name="' + name_secret + '" value="' + secret_number + '" />\n\                    <input type="hidden" name="' + name_product_payment_method + '" value="' + selected_value + '" />\n\                    <div class="col-md-3">\n\                        <input type="text" class="form-control product_extra_price" placeholder="Miktar Girin" name="' + name_product_extra_price + '" value="0" />\n\                    </div>\n\                    <div class="col-md-3">\n\                        <select class="form-control product_extra_price_unit" name="' + name_product_extra_price_unit + '">\n\                            <option value="---">Birim Seçin </option>\n\                            <option value="tl">TL</option>\n\                            <option value="dl">DOLAR</option>\n\                            <option value="eu">EURO</option>\n\                       </select>\n\                    </div>\n\                    <div class="col-md-3">\n\                       <button class="btn btn-xs btn-danger" data-product_form="remove_payment_method"><span class="fa fa-remove"></span></button>\n\                    </div>\n\                <br />\n\                <br /><hr />\n\                <hr /></div>';                    $(".parent_payment_method").append(content)                    $('[data-product_form="remove_payment_method"]').off()                    $('[data-product_form="remove_payment_method"]').on("click", function () {                        $(this).parents(".payment_method_section").remove()                    })                } else {                    alert("Bu Alan Formda Ekli Gözüküyor")                }            }        })    }    var payment_selection = function () {        $(".product_payment_select").on("change", function (e) {            var selected_value = $(this).children("option:selected").val();            if (selected_value != "---") {                let add_section = true;                $(".parent_payment_method").find('[data-section_name]').each(function () {                    if ($(this).data("section_name") == selected_value)                        add_section = false                })                if (add_section) {                    const options = {                        component_name: "product_payment_group_section",                        component_action: "reload",                        component_key: "selected_value",                        component_data: selected_value,                    }                    if (typeof modal !== "undefined") {                        options.modal = modal;                    }                    component_run.run(options)//                    const $this = $(this)//                    var selected_value = $(this).children("option:selected").val();//                    const component_name = "product_payment_group_section"//                    const action = "draw"//                    var sendoptions = {//                        component_name: component_name,//                        action: action,//                        data: {"selected_value": selected_value},//                        complete: function (data) {//                            $(".parent_payment_method").append(data.content)//                            product_payment_remove_event.init();//                        },//                    }//                    makexhr.send(sendoptions);                } else {                    alert("Bu Alan Formda Ekli Gözüküyor")                }            }        })    }    var rmvent = function () {        $('[data-product_form="remove_payment_method"]').on("click", function (e) {            e.preventDefault();            var key = $(this).data("key");            if (typeof key !== "undefined") {                var sendoptions = {                    component_name: "product_payment_group_section",                    action: "remove_payment_method",                    data: {"key": key},                    complete: function (data) {                        $(this).parents(".payment_method_section").fadeOut("500", function () {                            $(this).remove()                        })                    },                }                makexhr.send(sendoptions);            } else {                $(this).parents(".payment_method_section").fadeOut("500", function () {                    $(this).remove()                })            }        })    }    return {        init: function () {            payment_selection();            rmvent();        }    }}();jQuery(document).ready(function () {    product_payment_group.init(); // init metronic core componets});